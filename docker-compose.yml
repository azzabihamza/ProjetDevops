version: "2.7"
services:
  
#  
#  Sonarqube:
#    image: sonarqube:8.9.7-community
#    ports:
#      - "9000:9000"
#   
#    volumes:
#      - 'sonarQube_data:/opt/SonarQube/data'
#      - 'sonarQube_extensions:/opt/SonarQube/extensions'
#      - 'sonarQube_logs:/opt/SonarQube/logs'
#  
#  nexus:
#    image: sonatype/nexus3
#    ports:
#      - "8081:8081"
#    volumes:
#      - "nexus-data:/sonatype-work"
#
#  volumes :
#    sonarQube_data:
#    sonarQube_extensions:
#    sonarQube_logs:
#    nexus-data:
#  
  
  
  devopsproject:
 
    build: /var/lib/jenkins/workspace/DevopsProject
    ports:
      - "8089:8089"
    environment:
      - SPRING_DATASOURCE_URL=jdbc:mysql://mysql_2:3306/tpachato?autoReconnect=true&useSSL=false
     
  
  mysql_2:
    image: "mysql:5.6"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=tpachato
    ports:
      - 3311:3306